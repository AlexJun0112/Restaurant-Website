<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/svg" href="./Pics/favicon.svg" />
    <link rel="stylesheet" type="text/css" href="Style.css" />
    <link rel="stylesheet" href="./FontAwesomeReady/css/all.css" />
    <link href="https://fonts.googleapis.com/css?family=Comic+Neue|Sen&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script language="javascript" src="./js/footer.js"></script>
    <link rel="stylesheet" type="text/css" href="style2.css">
    <title>Feedback Page</title>
</head>

<body>
    <div class="header">
        <div id="divDragonLogo">
            <a href="./HomePage.html"><img src="./Pics/dragonLogoAdjusted.png" alt="dragonLogo" id="dragonLogo" /></a>
        </div>
        <div class="navBar">
            <a id="buttonRipple" href="./HomePage.html#automaticSlider">HOME</a>
            <a id="buttonRipple" href="./ProductPageXiaoLongBao.html#" target="secondPage">PRODUCTS</a>
            <a id="buttonRipple" href="./AboutUsPage.html#" target="secondPage">ABOUT US</a>
            <a id="buttonRipple" href="./locateus.html" target="secondPage">LOCATE US</a>
            <script type="text/javascript">
                const buttons = document.querySelectorAll('a');
                buttons.forEach((btn) => {
                    btn.addEventListener('click', function (e) {
                        let x = e.clientX - 300;
                        let y = e.clientY - e.target.offsetTop - 55;

                        let ripples = document.createElement('span');
                        ripples.style.left = x + 'px';
                        ripples.style.top = y + 'px';
                        this.appendChild(ripples);

                        setTimeout(() => {
                            ripples.remove();
                        }, 1000);
                    });
                });
            </script>
        </div>
        <div class="userAndCart">
            <a href="./login.html"><i class="fas fa-users"></i></a>
            <a href="./cart.html"><i class="fas fa-shopping-cart"></i></a>
        </div>
    </div>
    <div class="feedbackForm">
        <form class="form" id="form2" method="GET" action="./FeedbackPage.html">
            <div class="formHeadingSection">
            <label class="formHeading">Feedback Form</label></br></br>
            </div>
            <div class="formControl">
                <label>Name: </label>
                <input type="text" name="name" id="name" placeholder="Enter your name"></br>
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            <div class="formControl ">
                <label>Email:</label>
                <input type="email" name="email" id="email" placeholder="Enter your email"></br>
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            <label>Rating </label></br></br></br>
            <div class="rating">
                <input type="radio" name="star" id="star1"><label for="star1"></label>
                <input type="radio" name="star" id="star2"><label for="star2"></label>
                <input type="radio" name="star" id="star3"><label for="star3"></label>
                <input type="radio" name="star" id="star4"><label for="star4"></label>
                <input type="radio" name="star" id="star5"><label for="star5"></label>
            </div>
            <div class="formControl">
                <textarea name="description" id="descriptionText" cols="30" rows="10"
                    placeholder="Enter you comments here"></textarea></br>
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            
            <input type="reset" value="Reset">
            <button type="submit" name="submit" id="submit" onclick="return checkInputs();">Submit</button>
            <script language="javascript">
                const form = document.getElementById('form2');
                const name = document.getElementById('name');
                const email = document.getElementById('email');
                const comment = document.getElementById('descriptionText');

                //  form.addEventListener('submit', (e) => {
                //      e.preventDefault();
                //      checkInputs();
                //  });

                function checkInputs() {
                    const nameValue = name.value.trim();
                    const emailValue = email.value.trim();
                    const commentValue = comment.value.trim();
                    var flag1 = false;
                    var flag2 = false;
                    var flag3 = false;

                    if (nameValue === '') {
                        setErrorFor(name, 'Name cannot be blank');
                    } else if (!nameValidation(nameValue)) {
                        setErrorFor(name, 'Name must only consist of characters')
                    } else {
                        setSuccessFor(name);
                        flag1 = true;
                    }

                    if (emailValue === '') {
                        setErrorFor(email, 'Email cannot be blank')
                    } else if (!emailValidation(emailValue)){
                        setErrorFor(email, 'Wrong format for email')
                    }else {
                        setSuccessFor(email);
                        flag2 = true;
                    }

                    if (commentValue === ''){
                        setErrorFor(descriptionText, 'Comments cannot be blank')
                    } else{
                        setSuccessFor(descriptionText)
                        flag3 = true;
                    }

                    if (flag1 && flag2 && flag3) {
                        alert("Form submission Completed")
                        return true;
                        
                    } else {
                        return false;
                    }

                }

                function setErrorFor(input, message) {
                    const formControl = input.parentElement;
                    const small = formControl.querySelector('small');

                    small.innerText = message;
                    formControl.className = 'formControl error';
                }

                function setSuccessFor(input) {
                    const formControl = input.parentElement;
                    formControl.className = 'formControl success'
                }
                function nameValidation(name) {
                    for (i = 0; i < name.length; i++) {
                        ch = name.charAt(i);
                        if (!(ch >= 'a' && ch <= 'z') && !(ch >= 'A' && ch <= 'Z') && !(ch == ' ')) {
                            return false;
                        }
                    }
                    return true;
                }
                function emailValidation(email) {
                    
                    if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)) {
                        return (true)
                    }
                    return (false)
                    
                }
            </script>
        </form>
        
    </div>
    <footer>
        <div class="footer_container" style="position:absolute; top:670px; width:100vw;">
            <div class="footer_top">
                <hr />
                <div class="column subscribe_segment">
                    <h3>Our Newletter</h3>
                    <p class="phrases">Subscibe us now to get the latest news.</p>
                    <br />
                    <form action="#" name="subForm" method="GET" onsubmit="return footer_email_validation();">
                        <input type="text" name="email" />
                        <input type="submit" value="Subscribe" />
                    </form>
                </div>
                <div class="column quicklink_segment">
                    <h3>Quick Links</h3>
                    <ul class="phrases">
                        <li><a href="./HomePage.html">Home</a></li>
                        <li><a href="./ProductPageFriedRice.html">Products</a></li>
                        <li><a href="./AboutUsPage.html">About Us</a></li>
                        <li><a href="./locateus.html">Locate Us</a></li>
                        <li><a href="./FeedbackPage.html">Feedback</a></li>
                        <li><a href="./FAQPage.html">FAQs</a></li>
                    </ul>
                </div>
                <div class="column contact_segment">
                    <h3>Contact Information</h3>
                    <ul class="phrases">
                        <li>
                            <i class="fa fa-home"></i>1, Jalan 1/149e, Taman Sri Endah 57000
                            Kuala Lumpur
                        </li>
                        <li><i class="fa fa-envelope"></i> dragonnest@gmail.com</li>
                        <li><i class="fa fa-phone"></i>03-7431234</li>
                    </ul>
                    <a href="#"><i class="fa fa-facebook"></i></a>
                    <a href="#"><i class="fa fa-instagram"></i></a>
                    <a href="#"><i class="fa fa-twitter"></i></a>
                    <a href="#"><i class="fa fa-linkedin"></i></a>
                </div>
            </div>
            <div class="footer_bottom">
                CopyRight &copy;Dragon Nest. All right reserved.
            </div>
        </div>
    </footer>
</body>

</html>